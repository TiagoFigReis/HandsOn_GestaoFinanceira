<ng-container *ngIf="floatLabel; else noFloatLabel">
  <p-floatlabel [variant]="floatLabelType">
    <ng-container *ngTemplateOutlet="inputContent"></ng-container>
  </p-floatlabel>
</ng-container>

<ng-template #noFloatLabel>
  <ng-container *ngTemplateOutlet="inputContent"></ng-container>
</ng-template>

<ng-template #inputContent>
  <div class="w-full flex flex-col gap-2">
    <label
      [for]="id"
      [ngClass]="{
        error: error || hasError
      }"
    >
      {{ label }}
    </label>
    <p-password
      [id]="id"
      [formControl]="control"
      [placeholder]="!floatLabel ? placeholder : ''"
      [required]="required"
      [autofocus]="autofocus"
      [autocomplete]="autocomplete"
      [minlength]="minlength"
      [maxlength]="maxlength"
      [variant]="variant"
      [fluid]="fluid"
      [size]="'small'"
      [feedback]="feedback"
      [toggleMask]="toggleMask"
      [ngClass]="{
        error: error || hasError,
        'error-border': error || hasError
      }"
      [inputStyleClass]="error || hasError ? 'error error-border' : ''"
    />
    <small
      class="small-text"
      *ngIf="error || hint || hasError"
      [ngClass]="{
        error: error || control.invalid
      }"
    >
      {{ error || hint || errorMessage }}
    </small>
  </div>
</ng-template>
